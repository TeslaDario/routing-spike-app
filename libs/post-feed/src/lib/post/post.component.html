<div class="post" [ngClass]="{ 'post-overview': !inFeed }">
    <div class="post-header">
        <rapp-avatar (click)="openProfile()"></rapp-avatar>
        <div class="details">
            <div class="author">
                <div matRipple (click)="openProfile()">{{ author?.name }}</div>
                <span class="small-spacer">></span>
                <div matRipple [routerLink]="['/groups', post.groupId]">{{ group?.groupName }}</div>
            </div>
            <span class="date">{{ post.createdAt | date }}</span>
        </div>
        <button mat-icon-button (click)="editPost()">
            <mat-icon>more_horiz</mat-icon>
        </button>
    </div>

    <div class="post-image" *ngIf="post.image" (click)="openMedia()">
        <img [src]="post.image" />
    </div>

    <ng-container *ngIf="inFeed; else notInFeed">
        <div [routerLink]="['/groups', post.groupId, 'post', post.id]">
            <div class="post-title">{{ post.title }}</div>
            <div class="post-body trim">
                {{ post.body }}
            </div>
        </div>
    </ng-container>
    <ng-template #notInFeed>
        <div>
            <div class="post-title">{{ post.title }}</div>
            <div class="post-body">{{ post.body }}</div>
        </div>
    </ng-template>

    <div class="post-footer">
        <button mat-button>
            <mat-icon>thumb_up</mat-icon>
            <span>Like</span>
        </button>
        <button mat-button>
            <mat-icon>comment</mat-icon>
            <span>Comment</span>
        </button>
    </div>
</div>
